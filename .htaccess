# Unity WebGL Configuration
# This file configures the server to properly serve Unity WebGL content

# Enable MIME types for Unity files
<IfModule mod_mime.c>
  # WebAssembly
  AddType application/wasm .wasm

  # Unity data files
  AddType application/octet-stream .data
  AddType application/javascript .js

  # Brotli compressed files (if you have them)
  AddType application/octet-stream .data.br
  AddType application/wasm .wasm.br
  AddType application/javascript .js.br
  AddEncoding br .br

  # Gzip compressed files (if you have them)
  AddType application/octet-stream .data.gz
  AddType application/wasm .wasm.gz
  AddType application/javascript .js.gz
  AddEncoding gzip .gz
</IfModule>

# Enable CORS (Cross-Origin Resource Sharing) if needed
<IfModule mod_headers.c>
  <FilesMatch "\.(wasm|data|js)$">
    Header set Access-Control-Allow-Origin "*"
    Header set Cross-Origin-Embedder-Policy "require-corp"
    Header set Cross-Origin-Opener-Policy "same-origin"
  </FilesMatch>
</IfModule>

# Increase PHP memory limit if PHP is used
<IfModule mod_php7.c>
  php_value memory_limit 256M
  php_value upload_max_filesize 100M
  php_value post_max_size 100M
</IfModule>

# Disable directory browsing
Options -Indexes

# Enable compression for better performance
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/wasm
</IfModule>

# Cache control for Unity files
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType application/wasm "access plus 1 year"
  ExpiresByType application/javascript "access plus 1 year"
  ExpiresByType application/octet-stream "access plus 1 year"
</IfModule>
